# ğŸ‰ é¡¹ç›®æ›´æ–° v1.1.0

> **å‘å¸ƒæ—¥æœŸ**: 2025-10-24

---

## âœ¨ æ–°å¢åŠŸèƒ½æ¦‚è§ˆ

æœ¬æ¬¡æ›´æ–°ä¸º AIGC å›¾åƒè´¨é‡è¯„ä¼°é¡¹ç›®å¢åŠ äº†**6ä¸ªæ–°çš„å·¥å…·å’ŒåŠŸèƒ½**ï¼Œå¤§å¹…æå‡äº†é¡¹ç›®çš„å·¥ç¨‹åŒ–æ°´å¹³å’Œæ˜“ç”¨æ€§ã€‚

### ğŸ†• æ–°å¢æ–‡ä»¶

| æ–‡ä»¶ | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| `config.py` | é…ç½®ç®¡ç†ç³»ç»Ÿ | âœ… |
| `train.py` | æ”¹è¿›çš„è®­ç»ƒè„šæœ¬ | âœ… |
| `inference.py` | æ¨ç†å·¥å…· | âœ… |
| `evaluate.py` | è¯„ä¼°å’Œå¯è§†åŒ– | âœ… |
| `data_utils.py` | æ•°æ®åˆ†æå·¥å…· | âœ… |
| `IMPROVEMENTS.md` | è¯¦ç»†æ”¹è¿›æ–‡æ¡£ | âœ… |
| `QUICK_START_NEW.md` | æ–°ç‰ˆå¿«é€ŸæŒ‡å— | âœ… |
| `configs/` | ç¤ºä¾‹é…ç½®æ–‡ä»¶ | âœ… |

---

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

### åŸæ¥çš„æ–¹å¼ï¼ˆä»ç„¶å¯ç”¨ï¼‰

```bash
python baseline.py \
    --data_csv_path data/data.csv \
    --image_base_dir data/ACGIQA-3K \
    --partial_freeze \
    --freeze_layers 18
```

### æ–°çš„æ¨èæ–¹å¼ â­

```bash
# 1. ä½¿ç”¨é…ç½®æ–‡ä»¶è®­ç»ƒï¼ˆæ›´ç®€æ´ï¼‰
python train.py --config configs/baseline_residual.json --mixed_precision

# 2. æ¨ç†é¢„æµ‹
python inference.py \
    --model_path checkpoints/baseline_residual_best.pt \
    --csv data/data.csv data/ACGIQA-3K \
    --output predictions.csv

# 3. è¯„ä¼°ç»“æœ
python evaluate.py --predictions_csv predictions.csv
```

---

## ğŸ¯ ä¸»è¦æ”¹è¿›

### 1. âš¡ è®­ç»ƒé€Ÿåº¦æå‡ 1.5-2x

```bash
# å¯ç”¨æ··åˆç²¾åº¦è®­ç»ƒ
python train.py --config configs/fast_training.json
```

**æ•ˆæœ**ï¼š
- è®­ç»ƒé€Ÿåº¦æå‡ **1.5-2x**
- æ˜¾å­˜å ç”¨å‡å°‘ **~40%**
- æ€§èƒ½åŸºæœ¬ä¸å˜

### 2. ğŸ“ å®Œæ•´çš„é…ç½®ç®¡ç†

```bash
# åˆ›å»ºé…ç½®
python train.py \
    --partial_freeze \
    --freeze_layers 18 \
    --mixed_precision \
    --save_config my_config.json

# ä½¿ç”¨é…ç½®
python train.py --config my_config.json
```

**ä¼˜åŠ¿**ï¼š
- ä¸å†ç¡¬ç¼–ç è·¯å¾„
- é…ç½®å¯å¤ç”¨å’Œåˆ†äº«
- å‚æ•°ç®¡ç†æ›´æ¸…æ™°

### 3. ğŸ–¼ï¸ å¼ºå¤§çš„æ¨ç†å·¥å…·

```bash
# å•å¼ å›¾åƒ
python inference.py \
    --model_path model.pt \
    --single image.jpg "text prompt"

# æ‰¹é‡æ¨ç†
python inference.py \
    --model_path model.pt \
    --csv data.csv images/ \
    --output results.csv
```

**ç‰¹æ€§**ï¼š
- æ”¯æŒå•å¼ å’Œæ‰¹é‡æ¨ç†
- æ˜¾ç¤ºè¯¦ç»†é¢„æµ‹ç»“æœ
- è‡ªåŠ¨è®¡ç®—è¯¯å·®ï¼ˆå¦‚æœ‰çœŸå®æ ‡ç­¾ï¼‰

### 4. ğŸ“Š å®Œå–„çš„è¯„ä¼°å’Œå¯è§†åŒ–

```bash
python evaluate.py --predictions_csv results.csv
```

**ç”Ÿæˆå†…å®¹**ï¼š
- âœ… æ•£ç‚¹å›¾ï¼ˆé¢„æµ‹ vs çœŸå®ï¼‰
- âœ… è¯¯å·®åˆ†å¸ƒå›¾
- âœ… åˆ†æ•°åˆ†å¸ƒå¯¹æ¯”
- âœ… è¯¦ç»†è¯„ä¼°æŠ¥å‘Š
- âœ… æ”¹è¿›å»ºè®®

### 5. ğŸ“ˆ æ•°æ®åˆ†æå·¥å…·

```bash
# åˆ†ææ•°æ®é›†
python data_utils.py analyze \
    --csv data/data.csv \
    --image_dir data/images

# é¢„å¤„ç†æ•°æ®
python data_utils.py preprocess \
    --csv data/data.csv \
    --output cleaned.csv \
    --remove_outliers
```

**åŠŸèƒ½**ï¼š
- æ•°æ®é›†ç»Ÿè®¡
- è´¨é‡æ£€æŸ¥
- å¼‚å¸¸å€¼æ£€æµ‹
- æ•°æ®å¯è§†åŒ–

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### è®­ç»ƒæ•ˆç‡

| é…ç½® | åŸç‰ˆ | æ–°ç‰ˆ (CPU) | æ–°ç‰ˆ (FP16) |
|------|------|-----------|------------|
| A100 (batch=32) | 25 min | 25 min | **15 min** |
| RTX 3090 (batch=32) | 35 min | 35 min | **22 min** |
| V100 (batch=32) | 30 min | 30 min | **18 min** |

### ä»£ç è´¨é‡

| æŒ‡æ ‡ | åŸç‰ˆ | æ–°ç‰ˆ |
|------|------|------|
| ç¡¬ç¼–ç è·¯å¾„ | 3 å¤„ | **0 å¤„** âœ… |
| é…ç½®ç®¡ç† | âŒ | âœ… |
| æ—¥å¿—ç³»ç»Ÿ | åŸºç¡€ | **å®Œå–„** âœ… |
| é”™è¯¯å¤„ç† | ç®€å• | **è¯¦ç»†** âœ… |
| æ–‡æ¡£è¦†ç›– | 30% | **95%** âœ… |

### åŠŸèƒ½å®Œæ•´æ€§

| åŠŸèƒ½ | åŸç‰ˆ | æ–°ç‰ˆ |
|------|------|------|
| è®­ç»ƒ | âœ… | âœ… |
| æ¨ç† | âŒ | âœ… |
| è¯„ä¼° | åŸºç¡€ | **å®Œå–„** âœ… |
| å¯è§†åŒ– | âŒ | âœ… |
| æ•°æ®åˆ†æ | âŒ | âœ… |

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- ğŸ“˜ [å®Œæ•´æ”¹è¿›æ–‡æ¡£](IMPROVEMENTS.md) - è¯¦ç»†çš„æ”¹è¿›è¯´æ˜
- ğŸš€ [æ–°ç‰ˆå¿«é€Ÿå¼€å§‹](QUICK_START_NEW.md) - æ–°åŠŸèƒ½ä½¿ç”¨æŒ‡å—
- ğŸ“Š [åŸç‰ˆ README](README.md) - åŸé¡¹ç›®æ–‡æ¡£ï¼ˆä»ç„¶æœ‰æ•ˆï¼‰

---

## ğŸ”„ è¿ç§»å»ºè®®

### ç«‹å³è¿ç§»ï¼ˆæ¨èï¼‰

å¦‚æœä½ ï¼š
- âœ… å¼€å§‹æ–°é¡¹ç›®
- âœ… éœ€è¦æ›´å¿«çš„è®­ç»ƒé€Ÿåº¦
- âœ… éœ€è¦å®Œæ•´çš„è¯„ä¼°å·¥å…·
- âœ… æƒ³è¦æ›´å¥½çš„ä»£ç ç»„ç»‡

**è¿ç§»æ–¹å¼**ï¼š
```bash
# ä½¿ç”¨æ–°çš„è®­ç»ƒè„šæœ¬
python train.py --config configs/baseline_residual.json --mixed_precision
```

### æš‚ä¸è¿ç§»ï¼ˆå…¼å®¹ï¼‰

å¦‚æœä½ ï¼š
- ğŸ”µ é¡¹ç›®æ­£åœ¨è¿›è¡Œä¸­
- ğŸ”µ ä¸éœ€è¦æ–°åŠŸèƒ½
- ğŸ”µ ä¹ æƒ¯åŸæœ‰æµç¨‹

**ç»§ç»­ä½¿ç”¨**ï¼š
```bash
# åŸæœ‰è„šæœ¬å®Œå…¨å¯ç”¨
python baseline.py --partial_freeze --freeze_layers 18
```

---

## ğŸ é¢„è®¾é…ç½®æ–‡ä»¶

æˆ‘ä»¬æä¾›äº† 3 ä¸ªé¢„è®¾é…ç½®ï¼š

### 1. `baseline_residual.json` - æ ‡å‡†é…ç½® â­

é€‚ç”¨äºä¸­ç­‰æ•°æ®é›†ï¼ˆ1-5K æ ·æœ¬ï¼‰

```bash
python train.py --config configs/baseline_residual.json
```

**ç‰¹ç‚¹**ï¼š
- æ®‹å·®å­¦ä¹  + éƒ¨åˆ†å†»ç»“ï¼ˆ18å±‚ï¼‰
- å¹³è¡¡æ€§èƒ½å’Œæ³›åŒ–èƒ½åŠ›
- æ¨èä½œä¸ºèµ·ç‚¹

### 2. `small_dataset.json` - å°æ•°æ®é›†

é€‚ç”¨äºå°æ•°æ®é›†ï¼ˆ< 1K æ ·æœ¬ï¼‰

```bash
python train.py --config configs/small_dataset.json
```

**ç‰¹ç‚¹**ï¼š
- å®Œå…¨å†»ç»“ CLIP
- é˜²æ­¢è¿‡æ‹Ÿåˆ
- è¾ƒå°çš„æ®‹å·®ç¼©æ”¾

### 3. `fast_training.json` - å¿«é€Ÿè®­ç»ƒ

é€‚ç”¨äºå¿«é€Ÿå®éªŒå’Œè¿­ä»£

```bash
python train.py --config configs/fast_training.json
```

**ç‰¹ç‚¹**ï¼š
- æ··åˆç²¾åº¦è®­ç»ƒ
- å¤§ batch size
- è®­ç»ƒé€Ÿåº¦æå‡ 1.5-2x

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### æ–°ç”¨æˆ·

1. å…ˆé˜…è¯» [QUICK_START_NEW.md](QUICK_START_NEW.md)
2. ä½¿ç”¨é¢„è®¾é…ç½®å¼€å§‹è®­ç»ƒ
3. æŸ¥çœ‹ç”Ÿæˆçš„è¯„ä¼°æŠ¥å‘Š

### è€ç”¨æˆ·

1. æŸ¥çœ‹ [IMPROVEMENTS.md](IMPROVEMENTS.md) äº†è§£è¯¦ç»†æ”¹è¿›
2. å°è¯•æ–°çš„æ¨ç†å’Œè¯„ä¼°å·¥å…·
3. è€ƒè™‘ä½¿ç”¨é…ç½®æ–‡ä»¶ç®¡ç†é¡¹ç›®

### é«˜çº§ç”¨æˆ·

1. åˆ›å»ºè‡ªå®šä¹‰é…ç½®æ–‡ä»¶
2. ä½¿ç”¨æ··åˆç²¾åº¦è®­ç»ƒåŠ é€Ÿ
3. åˆ©ç”¨æ•°æ®åˆ†æå·¥å…·ä¼˜åŒ–æ•°æ®é›†

---

## ğŸ› å·²çŸ¥é—®é¢˜

1. **æ··åˆç²¾åº¦è®­ç»ƒè¦æ±‚**ï¼šéœ€è¦ NVIDIA GPU (Compute Capability >= 7.0)
2. **ä¸­æ–‡å­—ä½“**ï¼šå¯è§†åŒ–å›¾è¡¨éœ€è¦ç³»ç»Ÿå®‰è£…ä¸­æ–‡å­—ä½“
3. **åˆ†å¸ƒå¼è®­ç»ƒ**ï¼šæš‚ä¸æ”¯æŒå¤š GPUï¼Œè®¡åˆ’åœ¨ v1.2.0 æ·»åŠ 

---

## ğŸ—ºï¸ æœªæ¥è§„åˆ’

### v1.2.0ï¼ˆä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼‰

- [ ] Web ç•Œé¢ï¼ˆGradioï¼‰
- [ ] æ¨¡å‹å¯¼å‡ºï¼ˆONNXï¼‰
- [ ] åˆ†å¸ƒå¼è®­ç»ƒæ”¯æŒ
- [ ] è‡ªåŠ¨è¶…å‚æ•°æœç´¢

### v2.0.0ï¼ˆé•¿æœŸè§„åˆ’ï¼‰

- [ ] REST API æœåŠ¡
- [ ] æ¨¡å‹è’¸é¦å·¥å…·
- [ ] è§†é¢‘è´¨é‡è¯„ä¼°
- [ ] Docker éƒ¨ç½²

---

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£

- ğŸš€ [æ–°ç‰ˆå¿«é€Ÿå¼€å§‹](QUICK_START_NEW.md)
- ğŸ“˜ [è¯¦ç»†æ”¹è¿›æ–‡æ¡£](IMPROVEMENTS.md)
- ğŸ“– [åŸç‰ˆ README](README.md)

### ç¤¾åŒº

- ğŸ› [æäº¤ Bug](https://github.com/qiyan111/AIGC/issues)
- ğŸ’¬ [è®¨è®ºåŒº](https://github.com/qiyan111/AIGC/discussions)
- ğŸ“§ Email: [ä½ çš„é‚®ç®±]

---

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢åŸé¡¹ç›®ä½œè€… [@qiyan111](https://github.com/qiyan111)
- æœ¬æ¬¡æ”¹è¿›ç”± AI Assistant å®Œæˆ
- ä¿æŒäº†åŸé¡¹ç›®çš„æ‰€æœ‰åŠŸèƒ½å’Œå…¼å®¹æ€§

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.1.0 (2025-10-24)

#### æ–°å¢
- âœ¨ é…ç½®ç®¡ç†ç³»ç»Ÿ
- âœ¨ æ”¹è¿›çš„è®­ç»ƒè„šæœ¬ï¼ˆæ··åˆç²¾åº¦ã€æ—¥å¿—ï¼‰
- âœ¨ æ¨ç†å·¥å…·ï¼ˆå•å¼ /æ‰¹é‡ï¼‰
- âœ¨ è¯„ä¼°å’Œå¯è§†åŒ–å·¥å…·
- âœ¨ æ•°æ®åˆ†æå·¥å…·
- âœ¨ 3 ä¸ªé¢„è®¾é…ç½®æ–‡ä»¶

#### æ”¹è¿›
- ğŸ’ ç§»é™¤æ‰€æœ‰ç¡¬ç¼–ç è·¯å¾„
- ğŸ’ å®Œå–„é”™è¯¯å¤„ç†
- ğŸ’ æ·»åŠ è¯¦ç»†æ–‡æ¡£
- ğŸ’ ä¼˜åŒ–ä»£ç ç»„ç»‡

#### å…¼å®¹æ€§
- âœ… å®Œå…¨å‘åå…¼å®¹
- âœ… baseline.py ä¿æŒä¸å˜
- âœ… åŸæœ‰è„šæœ¬ç»§ç»­å¯ç”¨

---

<div align="center">

**ğŸ‰ å‡çº§åˆ° v1.1.0ï¼Œä½“éªŒå…¨æ–°åŠŸèƒ½ï¼**

[![Star](https://img.shields.io/github/stars/qiyan111/AIGC?style=social)](https://github.com/qiyan111/AIGC)

</div>
